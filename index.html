<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/bootstrap-5.1.1-dist/css/bootstrap.css">
  <link rel="stylesheet" href="/loop/square.css">
  <title>Document</title>
</head>

<body style="overflow: hidden;">

  <section>
    <div id="circle">
    </div>
    <div id="circle" style="margin-left: 1000px; margin-top: -180px;">
    </div>
    <div id="circle" style="margin-left: 80px;">
    </div>
    <div id="circle" style="margin-left: 1000px;">
    </div>
    <div id="circle" style="margin-left: 0px;margin-top: -100px;color: white;">

    </div>
  </section>
  <section class=" d-flex justify-content-center my-5" style="border: 3, 2, 6, 2;">

    <div class="con" id="myOne">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 col-md-6">
            <div style="transform: translateY(290px);">
              <input type="radio" style="transform: translateY(15);">
              <input type="radio" style="transform: translateY(-40);margin-left: -017px;">
              <p style="margin-top: -26px;margin-left: 30px;">I agree with terms and conditions
              </p>
            </div>

            <img src="/loop/images/we-removebg-preview.png" alt="" srcset="">
          </div>
          <div class="col-sm-12 col-md-6">
            <h4 class="my-5">Glad to have you here!!!</h4>
            <p class="lead" style="margin-top: -50px; font-size: 16px;">Login to continue</p>
            <input type="text" class="form-control" name="" id="myName" placeholder="Name" required>
            <input type="email" class="form-control required" name="" id="myEmail" placeholder="email">
            <input type="password" class="form-control" name="" id="myPassword" placeholder="Password" required>
            <input type="password" class="form-control required" name="" id="myRetype" placeholder="Re-type password">

            <button onclick="myFunc()" class="btn bg-primary my-4 rounded-pill" id="bbtn">Sign UP</button>
            <button onclick="alreadyHave()" class="btn bg-primary my-4 rounded-pill" id="bbtn1">already have an
              account</button>
          </div>
        </div>
      </div>
    </div>




    <div class="con" style="display: none;" id="myTwo">
      <div class="container">  
        <div class="row">
          <div class="col-sm-12 col-md-6">

            <img src="/images/Capture.PNG" alt="" srcset="">
          </div>
          <div class="col-sm-12 col-md-6">
            <span><a href="/loop/index.html" style="margin-left: 240px;">sign Up</a></span>
            <span>
              <p class="text-dark" style="margin-left: 160px;margin-top: -23px;">New user?</p>
            </span>

            <h4 class="my-5">Welcome Back!</h4>
            <p class="lead" style="margin-top: -50px; font-size: 16px;">Login to continue</p>
            <input type="email" class="form-control" name="" id="email" placeholder="email" required>
            <input type="password" class="form-control required" name="" id="password" placeholder="Password">
            <button onclick="myLogIn()" class="btn bg-primary my-4 rounded-pill" id="bbtn">Log in</button>
            <a href="#"></a>Forget password</a>

          </div>
        </div>
      </div>
    </div>

  </section>


  <script>
    let car = [];
    let lorry = {};
    var i;

    // if(localStorage.carNet){
    //   car = JSON.parse(localStorage.carNet)
    // }
    // else{
    //   car = [];
    // }
    car = localStorage.carNet ? JSON.parse(localStorage.carNet) : []


    function myFunc() {
      if ((myName.value == "") && (myEmail.value == "") && (myPassword.value == "") && (myRetype.value == "")) {
        alert("please fill in the provided space")
      } else if (((myName.value == "") || (myEmail.value == "") || (myPassword.value == "") || (myRetype.value == ""))) {
        alert(" please fill up the remainng spaces")

      } else if (((myName.value == name) && (myEmail.value == email) && (myPassword.value == password) && (myRetype.value == retype))) {
        alert("user already exist")

      } else if ((myPassword.value.length <= 8)) {
        alert("please your password must not be lesss than 8")

      } else if (!myEmail.value.includes('@gmail.com')) {

        alert("please check your Email")
      } else if ((myPassword.value !== myRetype.value)) {
        alert("please check your password and retype")
      } else if (((myName.value != "") && (myEmail.value != "") && (myPassword.value != ""))) {

        let lorry = {
          name: myName.value,
          email: myEmail.value,
          password: myPassword.value,
          retype: myRetype.value,
          todo: []
        }
        car.push(lorry);
        localStorage.carNet = JSON.stringify(car);
        myOne.style.display = "none";
        myTwo.style.display = "block";
      }
    }
    function alreadyHave() {
      myOne.style.display = "none";
      myTwo.style.display = "block";

    }


    function myLogIn() {
       let found = car.find((val, i) => val.email == email.value && val.password == password.value)
 
      console.log(found);
      if (!found) {
        alert(`user not found`)
      }
      else {
        console.log(found.name);
        localStorage.setItem('currentUser', JSON.stringify(found));
        let indexOfUser = car.indexOf(found)
        localStorage.currentIndex = JSON.stringify(indexOfUser)
        location.href = 'todoorigi.html';

      }
    }


  </script>


  <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> -->
</body>

</html>